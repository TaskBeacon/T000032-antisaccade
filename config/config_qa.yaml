subinfo_fields:
  - name: subject_id
    type: int
    constraints:
      min: 101
      max: 999
      digits: 3
subinfo_mapping:
  subject_id: 受试者编号（3位）
  Participant Information: 被试信息
  registration_failed: 注册失败
  registration_successful: 注册成功
  invalid_input: "{field} 输入无效"
window:
  size: [1280, 720]
  units: pix
  screen: 0
  bg_color: gray
  fullscreen: false
  monitor_width_cm: 35.5
  monitor_distance_cm: 60
task:
  task_name: antisaccade
  save_path: ./outputs/qa
  total_blocks: 1
  total_trials: 16
  trial_per_block: 16
  conditions:
    - prosaccade
    - antisaccade
  key_list:
    - f
    - j
    - space
  left_key: f
  right_key: j
  seed_mode: same_across_sub
  language: Chinese
  voice_name: zh-CN-YunyangNeural
  voice_enabled: false
timing:
  fixation_duration: [0.3, 0.4]
  cue_duration: [0.2, 0.3]
  gap_duration: [0.08, 0.12]
  response_deadline: 0.8
  iti_duration: 0.2
stimuli:
  instruction_text:
    type: text
    text: "反眼跳任务（QA）\n\n绿色规则：朝圆点方向反应。\n红色规则：朝圆点相反方向反应。\nF=左，J=右。\n\n按空格键开始。"
    font: SimHei
    color: white
    height: 28
    wrapWidth: 980
    pos: [0, 90]
  fixation:
    type: text
    text: "+"
    font: SimHei
    color: white
    height: 44
    pos: [0, 0]
  rule_pro:
    type: text
    text: "朝圆点"
    font: SimHei
    color: [0.25, 0.9, 0.25]
    height: 32
    pos: [0, 210]
  rule_anti:
    type: text
    text: "背离圆点"
    font: SimHei
    color: [0.95, 0.25, 0.25]
    height: 32
    pos: [0, 210]
  left_anchor:
    type: circle
    radius: 34
    pos: [-340, 0]
    lineColor: [0.65, 0.65, 0.65]
    lineWidth: 2
    fillColor: null
  right_anchor:
    type: circle
    radius: 34
    pos: [340, 0]
    lineColor: [0.65, 0.65, 0.65]
    lineWidth: 2
    fillColor: null
  left_target:
    type: circle
    radius: 26
    pos: [-340, 0]
    lineColor: white
    lineWidth: 2
    fillColor: white
  right_target:
    type: circle
    radius: 26
    pos: [340, 0]
    lineColor: white
    lineWidth: 2
    fillColor: white
  block_break:
    type: text
    text: "第 {block_num}/{total_blocks} 组完成\n\n正确率：{block_accuracy:.1%}\n正确反应平均RT：{mean_rt_ms:.0f} ms\n超时次数：{timeout_count}\n\n准备好后按空格键继续。"
    font: SimHei
    color: white
    height: 26
    wrapWidth: 980
  good_bye:
    type: text
    text: "QA运行结束。\n\n总试次：{total_trials}\n正确率：{total_accuracy:.1%}\n正确反应平均RT：{mean_rt_ms:.0f} ms\n超时次数：{total_timeouts}\n\n按空格键退出。"
    font: SimHei
    color: white
    height: 28
    wrapWidth: 980
triggers:
  map:
    exp_onset: 1
    exp_end: 2
    block_onset: 10
    block_end: 11
    fixation_onset: 20
    rule_pro_onset: 21
    rule_anti_onset: 22
    gap_onset: 30
    target_onset_left: 40
    target_onset_right: 41
    response_left: 50
    response_right: 51
    response_timeout: 60
    iti_onset: 70
  driver:
    type: serial_url
    url: loop://
    baudrate: 115200
  timing:
    post_delay_ms: 1
  policy:
    strict: false
controller:
  fixation_duration: [0.3, 0.4]
  cue_duration: [0.2, 0.3]
  gap_duration: [0.08, 0.12]
  response_deadline: 0.8
  iti_duration: 0.2
  random_seed: 23
  enable_logging: true
qa:
  output_dir: outputs/qa
  enable_scaling: true
  timing_scale: 0.1
  min_frames: 1
  strict: false
  max_wait_s: 10.0
  acceptance_criteria:
    required_columns:
      - condition
      - block_id
      - trial_index
      - rule
      - target_side
      - correct_key
      - saccade_response_response
      - saccade_response_rt
      - saccade_response_hit
    expected_trial_count: 16
    allowed_keys: [f, j, space]
    triggers_required: true

